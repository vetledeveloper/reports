/* Minified: main.js */
App.Wireframe["Utils"]["dataFilters"]={};App.Wireframe["Utils"]["dataFilters"]["prepareSelectDate"]=function(submit_as,criterion,filter,data,get_name,get_value){var name=get_name(criterion);var value=get_value(filter,criterion);var select=$('<div class="select_date"><input name="'+submit_as+"["+name+']" value="'+(typeof(value)=="object"&&value?value.mysql:"")+'"></div>');select.find("input").datepicker({dateFormat:"yy/mm/dd",minDate:new Date("2000/01/01"),maxDate:new Date("2050/01/01"),showAnim:"blind",duration:0,changeYear:true,showOn:"both",buttonImage:App.Wireframe.Utils.imageUrl("icons/16x16/calendar.png","system"),buttonImageOnly:true,buttonText:App.lang("Select Date"),firstDay:App.Config.get("first_week_day"),hideIfNoPrevNext:true,defaultDate:typeof(value)=="object"&&value?new Date(value.mysql):new Date(),});$(this).append(select)};App.Wireframe["Utils"]["dataFilters"]["prepareSelectDateRange"]=function(submit_as,criterion,filter,data,get_name,get_value){var name=get_name(criterion);var value=get_value(filter,criterion);if(jQuery.isArray(value)&&value.length==2){var value_from=value[0];var value_to=value[1]}else{var value_from=new Date();var value_to=new Date()}if(value_from instanceof Date){var value_from_str=value_from.toString("yyyy/MM/dd")}else{if(typeof(value_from)=="object"&&value_from){var value_from_str=value_from.mysql}else{var value_from_str=date.today().toString("yyyy/MM/dd")}}if(value_to instanceof Date){var value_to_str=value_to.toString("yyyy/MM/dd")}else{if(typeof(value_to)=="object"&&value_to){var value_to_str=value_to.mysql}else{var value_to_str=date.today().toString("yyyy/MM/dd")}}var select=$('<div class="select_range"><div class="select_date range_from"><span>'+App.lang("From")+':</span><span><input name="'+submit_as+"["+name+'_from]" value="'+value_from_str+'"></span></div><div class="select_date range_to"><span>'+App.lang("To")+':</span><span><input name="'+submit_as+"["+name+'_to]" value="'+value_to_str+'"></span></div></div>');var datepicker_settings={dateFormat:"yy/mm/dd",minDate:new Date("2000/01/01"),maxDate:new Date("2050/01/01"),showAnim:"blind",duration:0,changeYear:true,showOn:"both",buttonImage:App.Wireframe.Utils.imageUrl("icons/16x16/calendar.png","system"),buttonImageOnly:true,buttonText:App.lang("Select Date"),firstDay:App.Config.get("first_week_day"),hideIfNoPrevNext:true};select.find("div.select_date.range_from input").datepicker(jQuery.extend(datepicker_settings,{defaultDate:typeof(value_from)=="object"&&value_from?new Date(value_from.mysql):new Date()}));select.find("div.select_date.range_to input").datepicker(jQuery.extend(datepicker_settings,{defaultDate:typeof(value_to)=="object"&&value_to?new Date(value_to.mysql):new Date()}));$(this).append(select)};App.Wireframe["Utils"]["dataFilters"]["prepareSelectDateAge"]=function(submit_as,criterion,filter,data,get_name,get_value){var value=parseInt(get_value(filter,criterion));if(isNaN(value)||value<1){value=7}$(this).append('<div class="select_age"><input type="number" name="'+submit_as+"["+get_name(criterion)+']" value="'+value+'"> '+App.lang("days old")+"</div>")};App.Wireframe["Utils"]["dataFilters"]["prepareSelectYear"]=function(submit_as,criterion,filter,data,get_name,get_value){var value=get_value(filter,criterion);var end_year=new Date().getFullYear();var select_html='<div class="select_year"><select name="'+submit_as+"["+get_name(criterion)+']">';for(var i=2005;i<=end_year;i++){select_html+='<option value="'+i+'" '+(value==i?"selected":"")+">"+i+"</option>"}$(this).append(select_html+"</select></div>")};App.Wireframe["Utils"]["dataFilters"]["prepareSelectYearRange"]=function(submit_as,criterion,filter,data,get_name,get_value){var name=get_name(criterion);var value=get_value(filter,criterion);if(jQuery.isArray(value)&&value.length==2){var value_from=value[0];var value_to=value[1]}else{var value_from="";var value_to=""}var end_year=new Date().getFullYear();var from_select_html='<select name="'+submit_as+"["+name+'_from]">';var to_select_html='<select name="'+submit_as+"["+name+'_to]">';for(var i=2005;i<=end_year;i++){from_select_html+='<option value="'+i+'" '+(value_from==i?"selected":"")+">"+i+"</option>";to_select_html+='<option value="'+i+'" '+(value_to==i?"selected":"")+">"+i+"</option>"}$(this).append('<div class="select_range"><div class="select_date range_from"><span>'+App.lang("From")+":</span><span>"+from_select_html+'</select></span></div><div class="select_date range_to"><span>'+App.lang("To")+":</span><span>"+to_select_html+"</select></span></div></div>")};
